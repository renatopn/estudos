<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üõ°Ô∏è Revis√£o Capit√£o Am√©rica - Portugu√™s</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üá∫üá∏</text></svg>">
    
    <style>
        /* --- Vari√°veis e Estilos Globais (Tema Capit√£o Am√©rica) --- */
        :root {
            --azul-capitao: #002868;
            --vermelho-capitao: #BF0A30;
            --branco-escudo: #FFFFFF;
            --cinza-sombra: #333333;
            --tempo-alerta: #FFD700;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: var(--cinza-sombra);
            background-image: radial-gradient(circle, var(--azul-capitao) 0%, var(--cinza-sombra) 100%);
            color: var(--branco-escudo);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            text-align: center;
        }

        #container-principal {
            background-color: rgba(10, 10, 10, 0.9);
            border: 5px solid var(--vermelho-capitao);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 0 30px var(--vermelho-capitao);
            max-width: 90%;
            width: 450px;
        }
        
        h1 {
            color: var(--branco-escudo);
            text-shadow: 2px 2px 4px var(--vermelho-capitao);
            margin-bottom: 20px;
            font-size: 2em;
        }

        /* --- Estilos do Jogo Principal (Portugu√™s) --- */
        
        #placar {
            display: flex;
            justify-content: space-around;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 1.1em;
            font-weight: bold;
        }

        #placar .contador-bonus {
            color: var(--tempo-alerta);
        }

        #pergunta-box {
            background-color: var(--azul-capitao);
            border: 3px solid var(--branco-escudo);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 0 10px var(--vermelho-capitao);
        }

        #pergunta {
            font-size: 1.8em;
            font-weight: bold;
            color: var(--branco-escudo);
            margin: 0;
        }
        
        #topico-pergunta {
            font-size: 0.9em;
            color: var(--tempo-alerta);
            margin-bottom: 5px;
        }

        #opcoes {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }

        .opcao-btn {
            background-color: var(--vermelho-capitao);
            color: var(--branco-escudo);
            border: none;
            padding: 15px 10px;
            border-radius: 10px;
            font-size: 1.3em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s;
            box-shadow: 0 4px var(--cinza-sombra);
        }

        .opcao-btn:hover:not(:disabled) {
            background-color: #e31842; /* Vermelho mais claro */
            transform: translateY(-2px);
        }

        .opcao-btn:active:not(:disabled) {
            box-shadow: 0 2px var(--cinza-sombra);
            transform: translateY(2px);
        }

        #feedback {
            min-height: 50px;
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 20px;
        }

        #iniciar-reiniciar {
            background-color: var(--tempo-alerta);
            color: var(--cinza-sombra);
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.2s;
            box-shadow: 0 4px var(--cinza-sombra);
            margin-top: 10px;
        }

        #iniciar-reiniciar:hover {
            background-color: #ffd700;
        }

        /* Estilos de Feedback */
        .sucesso {
            color: var(--tempo-alerta);
            animation: pulsar 0.5s 2;
        }

        .erro {
            color: var(--vermelho-capitao);
            animation: shake 0.5s;
        }
        
        /* O Jogo B√¥nus (Mem√≥ria) ser√° omitido neste modelo para focar na corre√ß√£o de Portugu√™s.
           Caso queira reincluir, a estrutura deve ser copiada da vers√£o anterior. */
        #jogo-bonus {
            display: none;
        }

        @keyframes pulsar {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }
    </style>
</head>
<body>

    <div id="container-principal">
        <h1>üá∫üá∏ Revis√£o - Escudo de Portugu√™s üõ°Ô∏è</h1>

        <div id="jogo-tabuada">
            <div id="placar">
                <span>‚≠ê Acertos Total: <span id="pontuacao">0</span></span>
                <span class="contador-bonus">üéØ Pr√≥ximo B√¥nus: <span id="acertos-rodada">0</span>/10</span>
                <span>‚è±Ô∏è Tempo: <span id="tempo">7.0</span>s</span>
            </div>

            <div id="pergunta-box">
                <div id="topico-pergunta"></div>
                <p id="pergunta">Clique em Iniciar Miss√£o para come√ßar!</p>
            </div>

            <div id="opcoes">
                </div>

            <div id="feedback">
                </div>

            <button id="iniciar-reiniciar" onclick="iniciarJogo()">Iniciar Miss√£o</button>
        </div>

        <div id="jogo-bonus">
             <h2>O Jogo B√¥nus n√£o est√° ativo neste modo de revis√£o.</h2>
        </div>

    </div>

    <script>
        // --- Vari√°veis Globais ---
        const ACERTOS_PARA_BONUS = 10;
        const TEMPO_MAXIMO = 7.0; 
        let pontuacao = 0; 
        let acertosRodada = 0; 
        let tempoAtual = TEMPO_MAXIMO;
        let intervaloTempo;
        let respostaCorreta;
        let jogoAtivo = false;
        
        // --- Elementos do DOM ---
        const elPontuacao = document.getElementById('pontuacao');
        const elAcertosRodada = document.getElementById('acertos-rodada');
        const elTempo = document.getElementById('tempo');
        const elPergunta = document.getElementById('pergunta');
        const elTopico = document.getElementById('topico-pergunta');
        const elOpcoes = document.getElementById('opcoes');
        const elFeedback = document.getElementById('feedback');
        const elBotaoIniciar = document.getElementById('iniciar-reiniciar');
        
        // --- Arrays de Mensagens ---
        const MENSAGENS_SUCESSO = [
            "üéØ SUCESSO! Escudo Posicionado!", "‚≠ê GOLPE PERFEITO!","üöÄ Que velocidade, Vingador!", 
            "‚úÖ Uau! Reflexo de Her√≥i!", "üíØ MISS√ÉO CUMPRIDA!"
        ];
        const MENSAGENS_ERRO = [
            "‚ùå Erro! N√£o desista, her√≥i! O certo era: ", "üòÖ Quase! Tente de novo! O correto era: ", 
            "üí° Persista! Voc√™ vai conseguir! A resposta certa era: ", "üí™ For√ßa! O Capit√£o sempre tenta! A resposta correta era: "
        ];
        
        // --- Banco de Perguntas (Focado nos T√≥picos de Gram√°tica) ---
        const BANCO_PERGUNTAS = [
            // S√≠laba T√¥nica (P√°ginas 202 a 205)
            { topico: "S√≠laba T√¥nica", pergunta: "A palavra 'F√ÅCIL' √© classificada como:", resposta: "Parox√≠tona", opcoes: ["Ox√≠tona", "Parox√≠tona", "Proparox√≠tona", "Diss√≠laba"] },
            { topico: "S√≠laba T√¥nica", pergunta: "A palavra 'CAF√â' √© classificada como:", resposta: "Ox√≠tona", opcoes: ["Ox√≠tona", "Parox√≠tona", "Proparox√≠tona", "Trit√¥nica"] },
            { topico: "S√≠laba T√¥nica", pergunta: "A palavra 'M√ÅGICO' √© classificada como:", resposta: "Proparox√≠tona", opcoes: ["Ox√≠tona", "Parox√≠tona", "Proparox√≠tona", "Triss√≠laba"] },
            
            // Uso do E ou I (P√°ginas 208 a 210)
            { topico: "Uso do E/I", pergunta: "Qual palavra completa a frase: 'O Brasil √© um p__s?'", resposta: "Pa√≠s", opcoes: ["P√°is", "Pez", "Peis", "Pa√≠s"] },
            { topico: "Uso do E/I", pergunta: "Qual palavra completa: 'A pr__s√£o est√° cheia.'", resposta: "Pris√£o", opcoes: ["Pres√£o", "Pris√£u", "Pris√£o", "Prez√£o"] },
            { topico: "Uso do E/I", pergunta: "Complete: 'O c__m√©rcio est√° aberto.'", resposta: "Com√©rcio", opcoes: ["Com√©rcio", "Com√©r√ßio", "Comirceu", "Comerceu"] },

            // Uso do O ou U (P√°ginas 216 e 217)
            { topico: "Uso do O/U", pergunta: "Qual a grafia correta: 'Bisc__ito'?", resposta: "Biscoito", opcoes: ["Biscoitu", "Biscoito", "Bisc√∫ito", "Biscoto"] },
            { topico: "Uso do O/U", pergunta: "Complete a palavra: 'Cach__rro'", resposta: "Cachorro", opcoes: ["Cachorro", "Cachurru", "Caxorro", "Caxuru"] },
            { topico: "Uso do O/U", pergunta: "A palavra correta √©:", resposta: "Bolacha", opcoes: ["Bulacha", "Bolacha", "Bolaxa", "B√¥lacha"] },

            // Uso da letra H (P√°ginas 266 e 267)
            { topico: "Uso do H", pergunta: "Qual palavra est√° escrita corretamente?", resposta: "Hiena", opcoes: ["Iena", "Hiena", "Jena", "Gena"] },
            { topico: "Uso do H", pergunta: "Qual palavra precisa do 'H' inicial?", resposta: "Honesto", opcoes: ["Onesto", "Honesto", "Or√°rio", "Ora"] },
            { topico: "Uso do H", pergunta: "Qual √© a forma correta do verbo?", resposta: "Haver", opcoes: ["Aver", "Haver", "Av√©r", "Haverr"] },

            // D√≠grafos (P√°ginas 270 a 273 e 277 a 280)
            { topico: "D√≠grafos", pergunta: "Qual palavra tem o d√≠grafo 'CH'?", resposta: "Chave", opcoes: ["Cerveja", "Casa", "Chave", "Cavalo"] },
            { topico: "D√≠grafos", pergunta: "Qual palavra tem o d√≠grafo 'SS'?", resposta: "P√°ssaro", opcoes: ["Pasaro", "Sapato", "P√°ssaro", "Passarou"] },
            { topico: "D√≠grafos", pergunta: "Qual palavra tem o d√≠grafo 'RR'?", resposta: "Carro", opcoes: ["Carro", "Coro", "Cano", "Caro"] },
            { topico: "D√≠grafos", pergunta: "Qual palavra tem o d√≠grafo 'LH'?", resposta: "Ovelha", opcoes: ["Ovela", "Ovelha", "Ovel√°", "Ovel√¢"] },
        ];
        
        let perguntasRestantes = [];

        // --- Fun√ß√µes Auxiliares ---
        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function exibirFeedback(mensagem, tipo) {
            elFeedback.textContent = mensagem;
            elFeedback.className = tipo;
        }

        // --- L√≥gica Principal do Jogo ---

        function gerarPergunta() {
            if (perguntasRestantes.length === 0) {
                // Reinicia o banco se acabarem as perguntas
                perguntasRestantes = [...BANCO_PERGUNTAS];
                perguntasRestantes = misturarArray(perguntasRestantes);
            }
            
            const perguntaAtual = perguntasRestantes.pop();

            elTopico.textContent = `T√≥pico: ${perguntaAtual.topico}`;
            elPergunta.textContent = perguntaAtual.pergunta;
            respostaCorreta = perguntaAtual.resposta;
            
            gerarOpcoes(perguntaAtual.opcoes, respostaCorreta);
        }

        function gerarOpcoes(opcoesOriginais, respostaCerta) {
            // As op√ß√µes originais j√° cont√™m a resposta, apenas misturamos
            const opcoesArray = misturarArray([...opcoesOriginais]);
            
            elOpcoes.innerHTML = '';
            opcoesArray.forEach(opcao => {
                const btn = document.createElement('button');
                btn.className = 'opcao-btn';
                btn.textContent = opcao;
                btn.onclick = () => checarResposta(opcao);
                elOpcoes.appendChild(btn);
            });
        }

        function iniciarContador() {
            tempoAtual = TEMPO_MAXIMO;
            elTempo.textContent = tempoAtual.toFixed(1);
            clearInterval(intervaloTempo);

            intervaloTempo = setInterval(() => {
                tempoAtual -= 0.1;
                elTempo.textContent = tempoAtual.toFixed(1);

                if (tempoAtual <= 0) {
                    pararContador();
                    checarResposta(null); // Tempo esgotado
                }
            }, 100);
        }

        function pararContador() {
            clearInterval(intervaloTempo);
        }

        function checarResposta(respostaDoJogador) {
            if (!jogoAtivo) return;

            pararContador();
            Array.from(elOpcoes.children).forEach(btn => btn.disabled = true);


            if (respostaDoJogador === respostaCorreta) {
                // Acertou
                pontuacao++;
                acertosRodada++;
                elPontuacao.textContent = pontuacao;
                elAcertosRodada.textContent = `${acertosRodada}/${ACERTOS_PARA_BONUS}`;
                
                const msg = MENSAGENS_SUCESSO[getRandomInt(0, MENSAGENS_SUCESSO.length - 1)];
                exibirFeedback(msg, 'sucesso');
                
                if (acertosRodada === ACERTOS_PARA_BONUS) {
                    // Aqui iria a chamada para o Jogo B√¥nus (omitido neste modelo)
                    alert("üèÜ Miss√£o B√¥nus Desbloqueada! (Fim da Rodada de 10)");
                    acertosRodada = 0; // Reseta o contador da rodada
                    elAcertosRodada.textContent = `${acertosRodada}/${ACERTOS_PARA_BONUS}`;
                    setTimeout(proximaRodada, 2000);
                } else {
                    setTimeout(proximaRodada, 1500);
                }

            } else {
                // Errou ou o tempo esgotou (jogo continua!)
                let msgIndex = getRandomInt(0, MENSAGENS_ERRO.length - 1);
                let msg = MENSAGENS_ERRO[msgIndex] + `"${respostaCorreta}"`;

                if (respostaDoJogador === null) {
                    msg = "üò≠ Tempo Esgotado! O correto era: " + `"${respostaCorreta}"`;
                }
                
                exibirFeedback(msg, 'erro');
                
                // Continua para a pr√≥xima rodada ap√≥s o feedback
                setTimeout(proximaRodada, 2000); 
            }
        }

        function proximaRodada() {
            elFeedback.textContent = '';
            Array.from(elOpcoes.children).forEach(btn => btn.disabled = false);
            generarPergunta();
            iniciarContador();
        }

        function iniciarJogo() {
            // Resetar o estado da rodada e a pontua√ß√£o
            pontuacao = 0;
            acertosRodada = 0;
            elPontuacao.textContent = pontuacao;
            elAcertosRodada.textContent = `${acertosRodada}/${ACERTOS_PARA_BONUS}`;

            jogoAtivo = true;
            elBotaoIniciar.textContent = 'Reiniciar Pontua√ß√£o';
            elBotaoIniciar.disabled = true;
            elBotaoIniciar.style.opacity = 0.5;

            // Inicializa e mistura o banco de perguntas
            perguntasRestantes = misturarArray([...BANCO_PERGUNTAS]);

            proximaRodada();
        }

        // Inicializa√ß√£o: Configura o estado inicial
        document.addEventListener('DOMContentLoaded', () => {
             elBotaoIniciar.onclick = iniciarJogo;
             elPergunta.textContent = "Clique em 'Iniciar Miss√£o' para come√ßar!";
        });
    </script>
</body>
</html>
